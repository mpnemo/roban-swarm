# Roban Swarm — mavlink-routerd companion configuration template
# Installed to /etc/mavlink-router/main.conf
#
# Variables are substituted by install.sh from heli.env:
#   FC_SERIAL   — serial port to flight controller
#   FC_BAUD     — baud rate (default 921600)
#   BASE_IP     — base station IP
#   UDP_PORT    — per-heli telemetry port on base (14560-14569)
#   CMD_PORT    — per-heli command listen port (14660-14669)

[General]
TcpServerPort = 0
ReportStats = false
MavlinkDialect = ardupilotmega

# Flight controller serial connection
[UartEndpoint fc]
Device = FC_SERIAL_PLACEHOLDER
Baud = FC_BAUD_PLACEHOLDER

# Telemetry outbound to base station hub (Normal = send to base:1456X)
[UdpEndpoint to_base]
Mode = Normal
Address = BASE_IP_PLACEHOLDER
Port = UDP_PORT_PLACEHOLDER

# Command inbound from base station hub (Server = listen on :1466X)
# Base hub sends GCS commands to this port for deterministic return path
[UdpEndpoint from_base]
Mode = Server
Address = 0.0.0.0
Port = CMD_PORT_PLACEHOLDER
