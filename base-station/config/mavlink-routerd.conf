# Roban Swarm — mavlink-routerd hub configuration (base station)
# Installed to /etc/mavlink-router/main.conf
#
# Bidirectional hub:
#   - Telemetry flows IN from helis on ports 14560-14569
#   - Commands flow OUT to helis on ports 14660-14669
#   - GCS connects bidirectionally on port 14550
#
# Each heli has a dedicated telemetry inbound port (Server) and a
# dedicated command outbound port (Normal → companion IP:1466X).
# This makes return-path routing deterministic regardless of NAT
# or ephemeral-port behaviour.

[General]
TcpServerPort = 0
ReportStats = false
MavlinkDialect = ardupilotmega

# GCS endpoint — bidirectional
# Mission Planner / QGC connects here
[UdpEndpoint gcs]
Mode = Normal
Address = 0.0.0.0
Port = 14550

# --- Heli 01 ---
[UdpEndpoint heli01_in]
Mode = Server
Address = 0.0.0.0
Port = 14560

[UdpEndpoint heli01_cmd]
Mode = Normal
Address = 192.168.50.101
Port = 14660

# --- Heli 02 ---
[UdpEndpoint heli02_in]
Mode = Server
Address = 0.0.0.0
Port = 14561

[UdpEndpoint heli02_cmd]
Mode = Normal
Address = 192.168.50.102
Port = 14661

# --- Heli 03 ---
[UdpEndpoint heli03_in]
Mode = Server
Address = 0.0.0.0
Port = 14562

[UdpEndpoint heli03_cmd]
Mode = Normal
Address = 192.168.50.103
Port = 14662

# --- Heli 04 ---
[UdpEndpoint heli04_in]
Mode = Server
Address = 0.0.0.0
Port = 14563

[UdpEndpoint heli04_cmd]
Mode = Normal
Address = 192.168.50.104
Port = 14663

# --- Heli 05 ---
[UdpEndpoint heli05_in]
Mode = Server
Address = 0.0.0.0
Port = 14564

[UdpEndpoint heli05_cmd]
Mode = Normal
Address = 192.168.50.105
Port = 14664

# --- Heli 06 ---
[UdpEndpoint heli06_in]
Mode = Server
Address = 0.0.0.0
Port = 14565

[UdpEndpoint heli06_cmd]
Mode = Normal
Address = 192.168.50.106
Port = 14665

# --- Heli 07 ---
[UdpEndpoint heli07_in]
Mode = Server
Address = 0.0.0.0
Port = 14566

[UdpEndpoint heli07_cmd]
Mode = Normal
Address = 192.168.50.107
Port = 14666

# --- Heli 08 ---
[UdpEndpoint heli08_in]
Mode = Server
Address = 0.0.0.0
Port = 14567

[UdpEndpoint heli08_cmd]
Mode = Normal
Address = 192.168.50.108
Port = 14667

# --- Heli 09 ---
[UdpEndpoint heli09_in]
Mode = Server
Address = 0.0.0.0
Port = 14568

[UdpEndpoint heli09_cmd]
Mode = Normal
Address = 192.168.50.109
Port = 14668

# --- Heli 10 ---
[UdpEndpoint heli10_in]
Mode = Server
Address = 0.0.0.0
Port = 14569

[UdpEndpoint heli10_cmd]
Mode = Normal
Address = 192.168.50.110
Port = 14669
